# VocabSultan

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-Active-brightgreen.svg)

**一个功能强大的单词记忆程序，采用间隔重复算法，帮助您高效掌握英语词汇**

[功能特性](#功能特性) • [快速开始](#快速开始) • [使用指南](#使用指南) • [配置说明](#配置说明) • [开发文档](#开发文档)

</div>

---

## 📖 项目简介

VocabSultan是一个本人准备GRE考试时写的一个单词记忆工具，采用科学的间隔重复算法，结合丰富的学习功能，帮助用户高效掌握英语词汇。程序采用模块化设计，支持多种用户界面，提供完整的词汇管理、学习跟踪和数据分析功能。

### 🎯 设计理念

- **科学学习**：基于间隔重复理论，优化记忆效果
- **用户友好**：直观的界面设计，降低学习门槛
- **高度可配置**：丰富的个性化设置，适应不同学习习惯
- **数据安全**：自动备份机制，保护学习数据
- **扩展性强**：模块化架构，易于功能扩展

---

## 功能特性

### 🧠 智能学习系统
- **间隔重复算法**：根据记忆效果动态调整复习间隔
- **多维度评估**：支持优秀、良好、一般、较差四个表现等级
- **自适应调度**：根据学习历史智能安排复习计划
- **掌握度追踪**：实时监控单词掌握程度

### 📚 词汇管理
- **灵活添加**：支持单个和批量添加单词
- **信息完整**：记录发音、词性、释义、例句、同义词等
- **标签系统**：自定义标签，便于分类管理
- **搜索功能**：全文搜索，快速定位目标单词
- **分页浏览**：支持多种排序方式的分页显示

### 📝 笔记系统
- **多场景笔记**：支持学习、复习、阅读等多种场景
- **分类标签**：记忆技巧、易混词、使用场景等预设类型
- **快速添加**：复习时便捷添加学习笔记
- **历史记录**：完整的笔记创建和修改历史

### 📊 数据分析
- **学习统计**：详细的词汇掌握情况分析
- **进度跟踪**：可视化学习进度和成果
- **状态分布**：草稿、学习中、复习中、已掌握状态统计
- **学习建议**：基于数据的个性化学习建议

### ⚙️ 个性化配置
- **添加单词配置**：可跳过发音、词性、语境等输入步骤
- **UI默认值**：自定义各种选择项的默认值
- **学习算法**：可调整间隔重复参数
- **界面偏好**：个性化显示和交互设置

### 🔧 系统功能
- **自动保存**：定时自动保存，防止数据丢失
- **备份机制**：自动创建备份文件，支持数据恢复
- **批量操作**：支持批量编辑、删除、状态修改
- **数据导入导出**：便于数据迁移和分享

---

## 🚀 快速开始

### 环境要求

- Python 3.8 或更高版本
- 推荐使用虚拟环境

### 安装步骤

1. **克隆项目**
   ```bash
   git clone https://github.com/your-username/VocabSultan.git
   cd VocabSultan
   ```

2. **安装依赖**

   使用pip:  

   ```bash
   pip install rich
   ```

   或使用uv:  
   ```bash
   uv sync
   ```


4. **运行程序**
   ```bash
   python vocab_sultan_cli.py
   ```

### 首次使用

1. 程序启动后会显示主菜单
2. 选择"添加单词"开始构建您的词汇库
3. 使用"开始复习"进行间隔重复学习
4. 通过"学习统计"查看学习进度

---

## 📖 使用指南

### 主菜单功能

| 选项 | 功能 | 描述 |
|------|------|------|
| 1 | 添加单词 | 交互式添加新单词到词汇库 |
| 2 | 批量添加 | 连续添加多个单词，提高效率 |
| 3 | 开始复习 | 基于间隔重复算法的智能复习 |
| 4 | 搜索单词 | 查找和浏览已添加的单词 |
| 5 | 学习统计 | 查看详细的学习数据分析 |
| 6 | 数据管理 | 保存、备份和导入数据 |
| 7 | 词汇表管理 | 浏览、编辑、删除词汇 |
| 8 | 设置管理 | 个性化配置和偏好设置 |
| 9 | 退出程序 | 保存数据并安全退出 |

### 添加单词

#### 快速添加
1. 选择"添加单词"
2. 输入单词和主要释义
3. 根据配置选择是否输入发音、词性、语境等
4. 可选择添加标签和笔记

#### 批量添加
1. 选择"批量添加"
2. 连续输入多个单词
3. 每个单词输入基本释义
4. 完成后可选择立即开始学习

### 复习系统

#### 复习流程
1. 选择"开始复习"
2. 系统显示需要复习的单词
3. 回忆单词含义后查看答案
4. 评估掌握程度（优秀/良好/一般/较差）
5. 可选择添加学习笔记
6. 系统自动安排下次复习时间

#### 表现等级说明
- **优秀 (Excellent)**：完全记住，间隔时间最长
- **良好 (Good)**：基本记住，间隔时间较长
- **一般 (Fair)**：模糊记得，间隔时间较短
- **较差 (Poor)**：完全忘记，间隔时间最短

### 词汇表管理

#### 浏览功能
- 支持6种排序方式：字母顺序、添加时间、复习时间、完整度、状态、复习次数
- 分页显示，每页可显示10个单词
- 支持正序和逆序排列

#### 批量操作
- **批量编辑**：同时修改多个单词的标签、状态、难度等
- **批量删除**：选择多个单词进行批量删除
- **状态管理**：批量修改单词学习状态

### 搜索功能

- **全文搜索**：在单词、释义、标签、笔记中搜索
- **智能排序**：按相关度自动排序搜索结果
- **详细查看**：点击搜索结果查看单词详情
- **快速操作**：在搜索结果中直接进行编辑、复习等操作

---

## ⚙️ 配置说明

### 配置分类

程序提供四类配置选项，可通过"设置管理"进行修改：

#### 1. 基本设置
- **自动保存**：是否启用定时自动保存
- **保存间隔**：自动保存的时间间隔（秒）
- **备份功能**：是否启用自动备份
- **备份数量**：保留的备份文件数量
- **掌握阈值**：判断单词掌握的正确率阈值

#### 2. 添加单词设置
- **跳过发音**：添加单词时跳过发音输入
- **跳过词性**：添加单词时跳过词性输入
- **跳过语境**：添加单词时跳过语境输入
- **跳过标签**：添加单词时跳过标签输入
- **自动提升状态**：有定义时自动提升为learning状态
- **默认标签**：添加单词时的默认标签

#### 3. UI默认值设置
- **主菜单默认**：主菜单的默认选择项
- **复习表现默认**：复习时的默认表现评级
- **词汇表排序默认**：词汇表管理的默认排序方式
- **批量编辑默认**：批量编辑的默认操作
- **笔记类型默认**：笔记类型的默认选择
- **确认操作默认值**：各种确认操作的默认值

#### 4. 学习算法设置
- **掌握阈值**：判断掌握的正确率
- **掌握复习次数**：达到掌握需要的复习次数
- **最大间隔天数**：复习间隔的最大天数
- **间隔重复参数**：不同表现等级的复习间隔

### 配置文件

配置保存在 `config.json` 文件中，采用JSON格式，支持手动编辑：

```json
{
  "auto_save": true,
  "auto_save_interval": 300,
  "add_word_config": {
    "skip_pronunciation": false,
    "skip_part_of_speech": false,
    "skip_context": false,
    "skip_tags": false,
    "default_tags": []
  },
  "ui_defaults": {
    "main_menu_default": "1",
    "review_performance_default": "g",
    "vocabulary_sort_default": "1"
  }
}
```

---

## 🏗️ 开发文档

### 项目结构

```
VocabSultan/
├── core.py                 # 核心业务逻辑
├── vocab_sultan_cli.py     # CLI用户界面
├── utils.py               # 工具函数
├── vocabulary.json        # 词汇数据文件
├── config.json           # 配置文件
├── pyproject.toml        # 项目配置
├── README.md             # 项目文档
└── requirements.txt      # 依赖列表
```

### 核心模块

#### core.py
- **数据结构**：Word、Note、AppConfig等核心数据类
- **业务逻辑**：VocabularyCore核心管理类
- **存储接口**：JSONStorage文件存储实现
- **学习算法**：SimpleSpacedRepetition间隔重复算法

#### vocab_sultan_cli.py
- **用户界面**：RichCliUI基于Rich库的CLI界面
- **交互逻辑**：各种用户交互和操作流程
- **配置管理**：设置界面的实现

### 数据模型

#### Word（单词）
```python
@dataclass
class Word:
    id: str                    # 唯一标识
    word: str                  # 单词文本
    status: WordStatus         # 学习状态
    completeness: float        # 信息完整度
    tags: List[str]           # 标签列表
    notes: List[Note]         # 笔记列表
    core_info: CoreInfo       # 核心信息
    extended_info: ExtendedInfo # 扩展信息
    learning_data: LearningData # 学习数据
```

#### Note（笔记）
```python
@dataclass
class Note:
    id: str                   # 唯一标识
    content: str              # 笔记内容
    created_at: str           # 创建时间
    tags: List[str]           # 标签列表
```

### 扩展开发

#### 添加新的存储后端
```python
class DatabaseStorage(IVocabularyStorage):
    def load(self) -> Dict[str, Word]:
        # 实现数据库加载逻辑
        pass
    
    def save(self, words: Dict[str, Word]) -> bool:
        # 实现数据库保存逻辑
        pass
```

#### 添加新的学习算法
```python
class AdvancedSpacedRepetition(ILearningAlgorithm):
    def calculate_next_review(self, word: Word, performance: str) -> datetime:
        # 实现高级间隔重复算法
        pass
```

#### 添加新的UI界面
```python
class WebUI(IUIAdapter):
    def display_message(self, message: str, level: str = "info") -> None:
        # 实现Web界面消息显示
        pass
```

---

## 📊 性能特性

### 数据处理能力
- **词汇容量**：支持数万词汇的高效管理
- **搜索性能**：毫秒级全文搜索响应
- **内存占用**：优化的数据结构，低内存消耗
- **文件大小**：JSON格式，便于查看和备份

### 学习效果
- **记忆保持率**：基于间隔重复理论，提高长期记忆效果
- **学习效率**：智能调度，减少重复学习时间
- **个性化**：根据个人表现调整学习计划

---

## 🔒 数据安全

### 自动备份
- 每次保存时自动创建备份文件
- 支持配置备份文件数量
- 备份文件包含时间戳，便于恢复

### 数据完整性
- 自动保存机制，防止数据丢失
- 异常处理，确保程序稳定运行
- 数据验证，防止损坏数据

### 隐私保护
- 本地存储，数据不上传
- 开源透明，无隐藏功能
- 用户完全控制数据

---

## 🤝 贡献指南

### 如何贡献

1. **Fork项目**：在GitHub上Fork本项目
2. **创建分支**：创建功能分支进行开发
3. **提交代码**：遵循代码规范，提交清晰的commit信息
4. **创建PR**：提交Pull Request，详细描述修改内容

### 代码规范

- 使用Python PEP 8代码风格
- 添加适当的类型注解
- 编写清晰的文档字符串
- 保持代码简洁和可读性

### 功能建议

欢迎提交以下类型的贡献：
- 新功能开发
- Bug修复
- 性能优化
- 文档改进
- 测试用例

---

## 📄 许可证

本项目采用 MIT 许可证。详情请参阅 [LICENSE](LICENSE) 文件。

---

## 🙏 致谢

- 感谢Rich库提供的优秀CLI界面支持
- 感谢间隔重复算法的理论基础



<div align="center">

**⭐ 如果这个项目对您有帮助，请给个Star支持一下！**

Made with ❤️ by [Your Name]

</div>
